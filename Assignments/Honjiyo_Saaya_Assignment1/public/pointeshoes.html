<script src="./product_data.js" type="text/javascript"></script>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pointe Shoe Display</title>
    <link rel="stylesheet" href="/Assignments/Honjiyo_Saaya_Assignment1/css/productdisplay.css">
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&display=swap" rel="stylesheet">
</head>

<body>
    <!--- logo and navbar --->
    <div class="header">
        <div class="container">
            <div class="navbar">
                <div class="logo">
                    <img src="/Assignments/Honjiyo_Saaya_Assignment1/public/images/logo.png" width="125px">
                </div>
                <nav>
                    <ul>
                        <li><a href="/Assignments/Honjiyo_Saaya_Assignment1/public/index.html">Home</a></li>
                        <li><a href="/Assignments/Honjiyo_Saaya_Assignment1/public/pointeshoes.html">Pointe Shoes</a>
                        </li>
                    </ul>
                    <a href="/Assignments/Honjiyo_Saaya_Assignment1/public/invoice.html"><img
                            src="/Assignments/Honjiyo_Saaya_Assignment1/public/images/carticon.png" width="30px"
                            height="35px"></a>
                </nav>
            </div>
            <!-- Order Form -->
            <center>
                <h1>Order Here!</h1>
            </center>
            <center>
                <p>Order your pointe shoes by entering a quantity in the textbox and press "Purchase" at the bottom of
                    the page!</p>
            </center>
            <!-- From SmartPhoneProducts WODs, modified formatting, displays products-->
            <div>
                <form action="" method="GET" name="quantity_form">
                    <main>
                        <script>
                            for (let i in products) {
                                document.write(`
        <section class="item">
            <center><img src=${products[i].image}></center>
            <font color = "#6d6d5f"> <center><h2>${products[i].name}</h2></center></font>
            <center><p>$${products[i].price}</p></center>
            <center><input type= "text" size="2" placeholder="0" name= "quantity_textbox${i}" onkeyup="checkQuantityTextbox(this)"><span id="quantity_textbox${i}_message"></span></center>
        </section>
        `);
                            }
                        </script>
                    </main>
                    <center><input type="submit" name="SubmitPurchase" value="Purchase" </center>
            </div>
            </form>
            </script>

</body>
</html>
<!-- Check for errors, redirect to invoice-->
   <script>
    function checkQuantityTextbox(theTextbox) {
        // is the textbox value a non-neg int?
        var errors_array = isNonNegInt(theTextbox.value, true);
        qty_textbox_message.innerHTML = errors_array.join('');
    }
    function isNonNegInt(q, returnErrors = false) {
    //If returnErrors is true, array of errors is returned
    //others return true if q is a non-neg int.
    errors = []; // assume no errors at first
    if (q == '') q = 0;
    if (Number(q) != q) errors.push('Not a number!'); // Check if string is a number value
    else {
    if (q < 0) errors.push('Negative value!'); // Check if it is non-negative
    if (parseInt(q) != q) errors.push('Not an integer!'); // Check that it is an integer
    }
    return returnErrors ? errors : (errors.length == 0)
  }
        
</script>